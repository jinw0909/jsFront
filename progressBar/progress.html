<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <!-- jQuery CDN -->
    <script src="https://code.jquery.com/jquery-3.6.0.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>
    <!-- jQuery UI CDN -->
    <script src="https://code.jquery.com/ui/1.11.2/jquery-ui.min.js" integrity="sha256-erF9fIMASEVmAWGdOmQi615Bmx0L/vWNixxTNDXS4FQ=" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="https://ajax.googleapis.com/ajax/libs/jqueryui/1.11.2/themes/smoothness/jquery-ui.css">
    
    <style>
        #text {
            text-align: center;
            font-size: 70px;
            margin-top: 100px;
            opacity: 0;
        }
        #bar {
            width: 500px;
            margin-top: 200px;
        }
        #bar .ui-progressbar-value {
            background: orange;
            border: 0;
        }
        #label {
            font-size: 12px;
        }
    </style>
</head>
<body>
    
    <!-- <div id="text">TEXT</div> -->
    <div id="bar">
        <div id="label">50%</div>
    </div>

    <script>
        // queue 큐
        // 애니메이션 큐 : 특정 요소에서 실행될 여러 애니메이션 목록. 목록에 있는 애니메이션 실행 내용들을 순차적으로 작동시킨다.
        // false로 변경하면 여러 동작을 동시에 실행시킬 수 있다.
        // $('#text').animate({opacity: 1}, {duration: 2000, queue: false});
        // $('#text').animate({"margin-top": "0px"}, {duration: 2000, queue: false});
        $(function() {
            let bar = $('#bar');
            
            // 프로그래스 바 생성
            bar.progressbar({
                value: false,
                change: function() {
                    console.log("변경사항이 발생하였을 때 실행되는 함수!!");
                }
            });

            // value에 들어갈 값을 변경
            function progress() {
                let val = bar.progressbar("value") || 0;
                console.log(val);
                bar.progressbar("value", val + 1);
                if (val < 50) {
                    setTimeout(progress, 20);
                };

            }

            progress();
        })
    </script>
</body>
</html>