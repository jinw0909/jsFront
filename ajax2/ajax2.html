<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ajax http 통신</title>
    <style>
        #bg_img_view {
            width: 800px;
            height: 800px;
            background: aliceblue;
        }
    </style>
    <!-- jQuery CDN -->
    <script src="https://code.jquery.com/jquery-3.6.0.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>
</head>
<body>
    <!-- 비트코인 가격 조회 API -->
    <!-- https://api.coindesk.com/v1/bpi/currentprice.json -->
    <!-- 강아지 사진 랜덤으로 제공하는 API -->
    <!-- https://dog.ceo/api/breeds/image/random -->
    <button class="request">Call</button>
    <img id="img_view" />
    <div id="bg_img_view">
        
    </div>
    
    <script>
        $(".request").click(function() {
            /*
            $.get("https://dog.ceo/api/breeds/image/random", function(data){
                console.log("서버로부터 받은 response data : ", data.message);
                // $("#img_view").attr("src", data.message);

                // background-image: url("배경이미지로 사용할 리소스의 경로");
                $("#bg_img_view").css("background", `url(${data.message})`); 
            });
            */
            $.ajax({
                url: "https://api.coindesk.com/v1/bpi/currentprice.json",
                method: "GET",
                dataType: "json",
                success: function(data) {
                    console.log(data);
                    console.log(data.bpi.EUR.symbol);
                    $("#bg_img_view").html(`<strong style="font-size: 30px">${data.bpi.EUR.symbol}</strong>`);
                },
                error: function(err) {
                    alert("오류가 발생했습니다!");
                },
            })
                
        });
    </script>
</body>
</html>